{% comment %}
  Updated Alert Component for Newskoop

  Available alert types and their classes:
  - success: bg-green-100, text-green-700, hover:text-green-800
  - danger/error: bg-red-100, text-red-700, hover:text-red-800
  - warning: bg-yellow-100, text-yellow-700, hover:text-yellow-800
  - info: bg-blue-100, text-blue-700, hover:text-blue-800
  - default: bg-gray-100, text-gray-700, hover:text-gray-800

  Make sure to add these classes to your Tailwind safelist in tailwind.config.js.
{% endcomment %}

{% if type == 'success' %}
  {% with bg_class="bg-green-100" text_class="text-green-700" hover_class="hover:text-green-800" %}
    <div class="alert p-4 mb-4 rounded-md {{ bg_class }} {{ text_class }} {% if dismissible %}relative pr-10{% endif %}">
      <div class="flex">
        {% if icon %}
        <div class="flex-shrink-0 mr-3">
          {% include "components/ui/icons.html" with name=icon class=text_class %}
        </div>
        {% endif %}
        <div>
          {% if title %}
          <h3 class="text-sm font-medium {{ text_class }}">
            {{ title }}
          </h3>
          {% endif %}
          <div class="text-sm {% if title %}mt-1{% endif %}">
            {{ message }}
          </div>
        </div>
      </div>
      
      {% if dismissible %}
      <div class="absolute top-0 right-0 pt-4 pr-4">
        <button type="button" class="alert-close focus:outline-none {{ text_class }} {{ hover_class }}">
          <span class="sr-only">Close</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {% endif %}
    </div>
  {% endwith %}
{% elif type == 'danger' or type == 'error' %}
  {% with bg_class="bg-red-100" text_class="text-red-700" hover_class="hover:text-red-800" %}
    <div class="alert p-4 mb-4 rounded-md {{ bg_class }} {{ text_class }} {% if dismissible %}relative pr-10{% endif %}">
      <div class="flex">
        {% if icon %}
        <div class="flex-shrink-0 mr-3">
          {% include "components/ui/icons.html" with name=icon class=text_class %}
        </div>
        {% endif %}
        <div>
          {% if title %}
          <h3 class="text-sm font-medium {{ text_class }}">
            {{ title }}
          </h3>
          {% endif %}
          <div class="text-sm {% if title %}mt-1{% endif %}">
            {{ message }}
          </div>
        </div>
      </div>
      
      {% if dismissible %}
      <div class="absolute top-0 right-0 pt-4 pr-4">
        <button type="button" class="alert-close focus:outline-none {{ text_class }} {{ hover_class }}">
          <span class="sr-only">Close</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {% endif %}
    </div>
  {% endwith %}
{% elif type == 'warning' %}
  {% with bg_class="bg-yellow-100" text_class="text-yellow-700" hover_class="hover:text-yellow-800" %}
    <div class="alert p-4 mb-4 rounded-md {{ bg_class }} {{ text_class }} {% if dismissible %}relative pr-10{% endif %}">
      <div class="flex">
        {% if icon %}
        <div class="flex-shrink-0 mr-3">
          {% include "components/ui/icons.html" with name=icon class=text_class %}
        </div>
        {% endif %}
        <div>
          {% if title %}
          <h3 class="text-sm font-medium {{ text_class }}">
            {{ title }}
          </h3>
          {% endif %}
          <div class="text-sm {% if title %}mt-1{% endif %}">
            {{ message }}
          </div>
        </div>
      </div>
      
      {% if dismissible %}
      <div class="absolute top-0 right-0 pt-4 pr-4">
        <button type="button" class="alert-close focus:outline-none {{ text_class }} {{ hover_class }}">
          <span class="sr-only">Close</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {% endif %}
    </div>
  {% endwith %}
{% elif type == 'info' %}
  {% with bg_class="bg-blue-100" text_class="text-blue-700" hover_class="hover:text-blue-800" %}
    <div class="alert p-4 mb-4 rounded-md {{ bg_class }} {{ text_class }} {% if dismissible %}relative pr-10{% endif %}">
      <div class="flex">
        {% if icon %}
        <div class="flex-shrink-0 mr-3">
          {% include "components/ui/icons.html" with name=icon class=text_class %}
        </div>
        {% endif %}
        <div>
          {% if title %}
          <h3 class="text-sm font-medium {{ text_class }}">
            {{ title }}
          </h3>
          {% endif %}
          <div class="text-sm {% if title %}mt-1{% endif %}">
            {{ message }}
          </div>
        </div>
      </div>
      
      {% if dismissible %}
      <div class="absolute top-0 right-0 pt-4 pr-4">
        <button type="button" class="alert-close focus:outline-none {{ text_class }} {{ hover_class }}">
          <span class="sr-only">Close</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {% endif %}
    </div>
  {% endwith %}
{% else %}
  {% with bg_class="bg-gray-100" text_class="text-gray-700" hover_class="hover:text-gray-800" %}
    <div class="alert p-4 mb-4 rounded-md {{ bg_class }} {{ text_class }} {% if dismissible %}relative pr-10{% endif %}">
      <div class="flex">
        {% if icon %}
        <div class="flex-shrink-0 mr-3">
          {% include "components/ui/icons.html" with name=icon class=text_class %}
        </div>
        {% endif %}
        <div>
          {% if title %}
          <h3 class="text-sm font-medium {{ text_class }}">
            {{ title }}
          </h3>
          {% endif %}
          <div class="text-sm {% if title %}mt-1{% endif %}">
            {{ message }}
          </div>
        </div>
      </div>
      
      {% if dismissible %}
      <div class="absolute top-0 right-0 pt-4 pr-4">
        <button type="button" class="alert-close focus:outline-none {{ text_class }} {{ hover_class }}">
          <span class="sr-only">Close</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {% endif %}
    </div>
  {% endwith %}
{% endif %}
